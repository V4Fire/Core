# core/pull
Примерно так себе представляю API этого модуля:

```js
import Pull from 'core/pull';

const pull = new Pull(
  // Функция, возвращающая значение, которое должно храниться в пуле
  () => {},

  // Стартовое количество ячеек в пуле
  10
);

// Размер пула
console.log(pull.size);

// Максимальный размер пула если задан (см передачу параметров)
console.log(pull.maxSize);

// Количество доступных ресурсов
console.log(pull.available);

// Если мест нет, то кинет исключение
// вызов free освобождает ресурс и возвращает в пул
const {free, value} = pull.take();

// Если мест нет, то добавляет в пул новое значение и возвращает его
const {free, value} = pull.takeOrCreate();

// Возвращает core/promise/sync (если мест нет, то промис не зарезолвится пока места не появятся)
pull.takeOrWait().then(({free, value}) => {});
```

Конструктор pull может принимать объект доп настроек

```js
import Pull from 'core/pull';

const pull = new Pull(
  // Функция, возвращающая значение, которое должно храниться в пуле
  () => {},

  // Стартовое количество ячеек в пуле
  10,

  {
    // После достижения 20 takeOrCreate будет тоже бросать исключение
    maxSize: 20,

    // Обработчик, который будет вызывать при вызове take.
    // Принимает ссылку на освобождаемый ресурс и ссылку на сам пул, а также параметры переданные в take и аналоги (если есть)
    onTake: (resource, pull, ...args) => {},

    // Обработчик, который будет вызывать при вызове free.
    // Принимает ссылку на освобождаемый ресурс и ссылку на сам пул, а также параметры переданные в free (если есть)
    onFree: (resource, pull, ...args) => {}
  }
);
```
